_BASE_STYLE_PROMPTS = {
    "Afrobeats": "Afrobeats at 105 BPM with layered log drums, shekere, talking drum, Afro-fusion guitar licks, deep 808 sub, and syncopated hi-hats",
    "Alternative / Indie": "Indie alternative with jangly Rickenbacker guitar, vintage amp warmth, light brushed drums, intimate close-mic vocals, and cathedral reverb",
    "Arrocha": "Arrocha romântico at 75 BPM with sanfona melódica, percussão suave, voz sussurrada próxima, e swingue sensual",
    "Axe": "Axé baiano at 115 BPM with trio elétrico distorted guitars, bright brass stabs, surdo batucada, timbal fills, and festive group vocals",
    "Bachata": "Bachata dominicana at 120 BPM with requinto guitar arpeggios, güira metal scraper, bongo patterns, romantic lead vocals, and heartfelt emotion",
    "Blues": "Chicago blues shuffle at 85 BPM with stinging Stratocaster bends, walking upright bass, brushed snare backbeat, and gritty harmonica wails",
    "Bolero": "Bolero romántico at 60 BPM with lush string orchestra, soft maracas, romantic piano, and emotional crooner vibrato",
    "Bossa Nova": "Bossa nova carioca at 130 BPM with nylon guitar syncopation, brushed drums, Fender Rhodes sparkle, warm upright bass, and breathy Portuguese vocals",
    "Brega": "Brega romântico at 90 BPM with dramatic vocal vibrato, melodic synth leads, drum machine groove, and sentimental strings",
    "Brega Funk": "Brega funk nordestino at 130 BPM with chopped vocal samples, talkbox effects, syncopated electronic drums, bright laser synths, and party atmosphere",
    "Classical": "Classical orchestral composition with string section dynamics, woodwind passages, French horn calls, expressive violin solos, and balanced mix",
    "Corridos": "Corridos tumbados at 95 BPM with norteño accordion, bajo sexto strumming, tuba bass foundation, snare rolls, and narrative vocals",
    "Country": "Modern country at 120 BPM with twangy Telecaster guitar, steel guitar slides, warm acoustic rhythm, driving snare, and heartfelt vocals",
    "Cuarteto": "Cuarteto argentino at 150 BPM with piano montuno patterns, punchy electric bass, fast percussion, and energetic accordion leads",
    "Cumbia": "Cumbia colombiana at 95 BPM with accordion melodías, güiro scrapes, congas, timbales, bass tumbaos, and swaying rhythm",
    "Dance": "Eurodance at 128 BPM with four-on-the-floor kick, sidechained synth stabs, piano riffs, catchy vocal hooks, and energetic buildups",
    "Dancehall": "Jamaican dancehall at 100 BPM with offbeat skank guitar, deep 808 sub drops, snare rolls, patois vocals, and reggae influence",
    "Dembow": "Dembow dominicano at 110 BPM with signature dembow drum pattern, bright pluck synths, rolling snares, heavy sub bass, and urban energy",
    "Disco": "70s disco at 118 BPM with slap bass guitar, string orchestra hits, funk guitar wah, handclaps, four-on-the-floor kick, and groovy atmosphere",
    "Electronic": "Electronic dance at 128 BPM with punchy sidechain kick, filtered saw bass, lush pad atmospheres, crisp hi-hats, and evolving synth leads",
    "Synthwave": "Synthwave at 120 BPM with vintage analog synths, lo-fi drums, neon pad atmospheres, retro 80s aesthetic, and nostalgic melodies",
    "Retrowave": "Retrowave at 125 BPM with analog synth layers, pulsing bassline, 80s drum kit samples, warm pad chords, and cyber-noir atmosphere",
    "Darkwave": "Darkwave at 115 BPM with dark atmospheric synths, deep bass movements, melancholic vocals, minor key melodies, and gothic essence",
    "Eurodance": "Eurodance at 130 BPM with energetic four-on-the-floor kick, accelerating hi-hats, euphoric synth stabs, catchy hooks, and dance floor energy",
    "Trance": "Trance at 135 BPM with arpeggiated synth lines, hypnotic bassline, breakbeat patterns, euphoric builds, and atmospheric breakdown sections",
    "Techno": "Minimal techno at 125 BPM with repetitive kick patterns, industrial percussion, deep sub bass, subtle synth layers, and hypnotic groove",
    "Acid Techno": "Acid techno at 130 BPM with squelchy TB-303 bass, filtered resonant sweeps, tribal percussion, funky groove, and psychedelic elements",
    "Detroit Techno": "Detroit techno at 120 BPM with soulful chords, mechanical drums, deep futuristic bass, warm organ pads, and rhythmic perfection",
    "Minimal Techno": "Minimal techno at 122 BPM with sparse kick patterns, resonant bassline, sparse hi-hats, subtle textural layers, and hypnotic repetition",
    "Industrial Techno": "Industrial techno at 128 BPM with harsh kick dynamics, metallic percussion, distorted sub bass, abrasive textures, and dark atmosphere",
    "Hardtechno": "Hardtechno at 140 BPM with hard-hitting kick drums, aggressive percussion, distorted bass, peak-time energy, and relentless rhythm",
    "Schranz": "Schranz at 145 BPM with hard 4x4 kick, uptempo percussion, distorted synths, peak-time atmosphere, and hard electronic energy",
    "Acid House": "Acid house at 120 BPM with squelchy TB-303 sequences, funky drums, soulful vocals, rolling basslines, and psychedelic sound effects",
    "Rave": "Rave at 160 BPM with massive pounding kicks, hoover bass stabs, filtered supersaw synth leads, laser sound effects, air horn risers, siren wails, break-heavy snare patterns, reverb-drenched vocal chops, and euphoric atmosphere",
    "Breakcore": "Breakcore at 180 BPM with chopped breakbeats, chaotic drums, glitchy textures, heavy bass, and complex rhythmic structures",
    "Jungle": "Jungle at 175 BPM with fast breakbeats, sub-bass heavy kicks, rapid hi-hats, atmospheric pads, and soulful vocal samples",
    "Drum and Bass": "Drum and Bass at 180 BPM with fast breakbeats, rolling sub-bass, rapid snares, atmospheric strings, and liquid smooth transitions",
    "Liquid Funk": "Liquid funk at 170 BPM with jazzy chords, fast breakbeats, smooth vocals, soulful bass, and atmospheric elements",
    "Liquid Drum and Bass": "Liquid DnB at 175 BPM with soulful strings, fast breakbeats, smooth vocals, rolling sub-bass, and emotional atmospheric pads",
    "Neurofunk": "Neurofunk at 185 BPM with complex breakbeats, futuristic synths, heavy sci-fi bass, atmospheric layers, and intricate sound design",
    "Darkstep": "Darkstep at 180 BPM with dark aggressive breakbeats, deep sub-bass, eerie atmospheres, distorted synths, and cinematic textures",
    "Dubstep": "Dubstep at 140 BPM with heavy wobble bass, syncopated snares, dub-influenced delays, atmospheric tension, and explosive drops",
    "Brostep": "Brostep at 140 BPM with aggressive wobble bass, high-energy drops, metallic synths, distorted leads, and mainstream appeal",
    "Riddim": "Riddim at 140 BPM with repetitive wobble bass, minimal drums, atmospheric pads, hypnotic repetition, and meditative darkness",
    "Future Bass": "Future bass at 140 BPM with chopped vocals, complex chords, soft wobble bass, glitchy rhythms, and emotional melodic content",
    "Trap": "Trap at 140 BPM with booming 808 sub bass slides, rapid hi-hat rolls, sparse atmospheric synth melodies, snare snaps, and swaggering rap vocals",
    "Hybrid Trap": "Hybrid trap at 145 BPM with orchestral elements, 808 bass, fast hi-hats, dubstep wobbles, and cinematic emotional elements",
    "Moombahton": "Moombahton at 115 BPM with reggaeton influence, wobbly bassline, tropical vibes, party energy, and Latin percussion elements",
    "Future Garage": "Future garage at 130 BPM with jazzy chords, chopped vocal samples, glitchy atmospheres, lo-fi aesthetics, and soulful emotion",
    "UK Garage": "UK Garage at 130 BPM with syncopated drums, soulful chords, wobbling basslines, garage aesthetic, and smooth vocal samples",
    "Grime": "Grime at 140 BPM with aggressive percussion, complex rhythmic patterns, harsh synths, rapid vocals, and urban energy",
    "Dubstep (Deep)": "Deep dubstep at 140 BPM with melodic elements, atmospheric pads, gentle wobble bass, emotional depth, and psychedelic textures",
    "Chillstep": "Chillstep at 130 BPM with gentle wobble bass, atmospheric strings, soft pads, peaceful vibe, and cinematic orchestration",
    "Deep House": "Deep house at 120 BPM with soulful samples, warm bassline, jazzy chords, vocal intimacy, and sophisticated grooves",
    "Tech House": "Tech house at 128 BPM with repetitive grooves, technical percussion, filtered bass, synth layers, and dancefloor focus",
    "Micro House": "Micro house at 125 BPM with minimal elements, filtered bassline, sparse percussion, textural focus, and hypnotic simplicity",
    "Progressive House": "Progressive house at 125 BPM with evolving melodic builds, deep bassline, layered atmospheres, long-form arrangements, and euphoria",
    "Progressive Electronic": "Progressive electronic at 120 BPM with evolving soundscapes, complex structures, organic synths, and artistic expression",
    "Ambient": "Ambient music at 60-80 BPM with flowing pad textures, minimalist melodies, atmospheric soundscapes, natural field recordings, and meditative space",
    "Ambient Techno": "Ambient techno at 100 BPM with minimal kick patterns, ethereal synths, slow atmospheric builds, dub influences, and hypnotic atmosphere",
    "Dark Ambient": "Dark ambient at 50-70 BPM with ominous textures, drones, unsettling atmospheres, minimal melodic content, and cinematic horror elements",
    "Drone": "Drone at 40-60 BPM with sustained tones, minimal changes, hypnotic repetition, meditative essence, and transcendent minimalism",
    "IDM": "Intelligent dance music at 110 BPM with intricate drum programming, warped pads, glitchy percussion, off-kilter rhythms, and experimental sound design",
    "Glitch": "Glitch at 120-140 BPM with digital artifacts, chopped samples, stuttering rhythms, bitcrushed noise, and experimental sound design",
    "Microhouse": "Microhouse at 125 BPM with intricate hi-hats, filtered groove, subtle basslines, minimal elements, and repetitive hypnosis",
    "Electroacoustic": "Electroacoustic at 90 BPM with acoustic instruments processed electronically, live recordings, hybrid instrumentation, and artistic expression",
    "Experimental Electronic": "Experimental electronic with granular synthesis, glitchy rhythms, field recordings, abstract textures, modular synth chaos, and sound design focus",
    "Electropop": "Electropop at 130 BPM with catchy synth hooks, electronic drums, danceable rhythm, poppy vocals, and radio-friendly production",
    "Synthpop": "Synthpop at 125 BPM with bright synthesizers, crisp drums, catchy melodies, innocent vocals, and 80s aesthetic",
    "Darksynth": "Darksynth at 110 BPM with dark analog synths, minor key melodies, pulsing bassline, cinematic atmosphere, and neo-noir vibe",
    "Cyberpunk": "Cyberpunk electronic at 130 BPM with futuristic synths, distorted vocals, heavy bass, neon aesthetics, and dystopian atmosphere",
    "Vaporwave": "Vaporwave at 85 BPM with ambient samples, lo-fi aesthetics, slowed jazz, consumer culture samples, and nostalgic melancholy",
    "Vapor-Trap": "Vapor-trap at 110 BPM with chopped samples, trap drums, vapor aesthetics, dreamy atmospheres, and nostalgic ambience",
    "Wave": "Wave at 115 BPM with dark synth pads, melancholic melodies, electronic drums, retro 80s vibes, and introspective mood",
    "Synthwave-Darkwave": "Synthwave-darkwave fusion at 120 BPM with analog synths, dark atmospheres, 80s nostalgia, gothic elements, and cinematic drama",
    "New Retro Wave": "New retro wave at 120 BPM with vintage synths, neon aesthetics, modern production, retro visual influence, and nostalgic energy",
    "Futurepop": "Futurepop at 125 BPM with futuristic synths, industrial percussion, dance grooves, processed vocals, and dystopian themes",
    "Electronica": "Electronica at 120 BPM with diverse electronic elements, artistic expression, experimental sound design, ambient textures, and boundary-pushing innovation",
    "Glitch Hop": "Glitch hop at 130 BPM with glitchy hi-hats, heavy bass, stuttering rhythms, chopped samples, and experimental hip-hop hybrid",
    "Nu-Funk": "Nu-funk at 110 BPM with modern synths, soulful bass, complex rhythms, retro funk elements, and contemporary groove",
    "Electro-Funk": "Electro-funk at 115 BPM with synth bass grooves, electronic percussion, funky rhythms, soul vocals, and dance energy",
    "Cyber-Punk": "Cyber-punk at 135 BPM with aggressive synths, distorted baselines, hard percussion, neon aesthetics, and futuristic rebellion",
    "Tech-Funk": "Tech-funk at 120 BPM with technical production, funky grooves, synth bass, precise drums, and modern funk evolution",
    "Electro-Jazz": "Electro-jazz at 100 BPM with electronic jazz elements, synth solos, jazz harmonies, electronic drums, and fusion aesthetics",
    "Electro-Swing": "Electro-swing at 110 BPM with vintage swing samples, electronic production, dance grooves, retro vibes, and modern energy",
    "Emocore": "Emocore at 160 BPM with confessional screamed vocals, melodic guitar harmonics, dynamic breakdowns, double-kick drums, and emotional crescendos",
    "Experimental": "Experimental electronic with granular synthesis, glitchy rhythms, field recordings, abstract textures, modular synth chaos, and sound design focus",
    "Fado": "Fado português at 80 BPM with Portuguese guitar 12-string, mournful vocals with saudade, classical guitar, subtle double bass, and intimate reverb",
    "Flamenco / Bulerias": "Flamenco bulería at 180 BPM with palmas handclaps, nylon guitar rasgueado strumming, cajón flamenco, and passionate cante vocals",
    "Folk": "Acoustic folk at 95 BPM with fingerpicked steel-string guitar, light cajón percussion, warm upright bass, harmonica accents, and close storytelling vocals",
    "Forro": "Forró pé de serra at 120 BPM with sanfona accordion lead, zabumba bass drum pulse, triangle metallic rhythm, and alegre vocals",
    "Funk": "American funk at 100 BPM with slap bass syncopation, choppy wah guitar rhythm, tight snare grooves, horn section stabs, and vintage Rhodes keys",
    "International Funk": "Brazilian funk carioca at 130 BPM with heavy tamborão kick pattern, booming 808 sub bass, aggressive snare claps, chopped vocal samples, and favela energy",
    "Gospel / Religious": "Gospel worship at 75 BPM with choir harmonies, Hammond B3 organ, piano accompaniment, passionate lead vocals, dynamic drums, and spiritual atmosphere",
    "Grunge": "Seattle grunge at 115 BPM with heavy distorted guitars, raw shouted vocals, loud-quiet-loud dynamics, sludgy bass, and angst-filled energy",
    "Guarania": "Guaraní guarania at 50 BPM with slow accordion melody, soft harp arpeggios, gentle guitar, subtle percussion, and deeply expressive vocals",
    "Gothic": "Gothic rock at 110 BPM with dark synthesizer pads, baritone vocals, reverb-drenched guitars, cathedral atmosphere, and dramatic drum fills",
    "Hard Rock": "Hard rock anthem at 140 BPM with crunchy power chord guitars, thundering double bass drums, driving bass, soaring guitar solos, and powerful vocals",
    "Hardcore": "Hardcore punk at 180 BPM with fast downstroke guitars, aggressive shouted vocals, relentless double-time drums, raw distortion, and chaotic energy",
    "Heavy Metal": "Heavy metal at 160 BPM with palm-muted riffing, double-kick drum patterns, distorted rhythm guitars, shredding lead solos, and operatic vocals",
    "Hip Hop / Rap": "Hip hop at 90 BPM with punchy MPC drums, deep 808 sub bass, vinyl sample chops, scratch effects, and confident rap flow",
    "House": "House music at 125 BPM with four-on-the-floor kick, rolling sub bass, soulful piano chords, disco strings, filtered synths, and uplifting vocal chops",
    "Hyperpop": "Hyperpop at 170 BPM with glitchy autotune vocals, distorted bass, hyperactive drums, bright digital synths, and chaotic production",
    "Industrial": "Industrial metal at 130 BPM with mechanical percussion, distorted synth bass, metallic clangs, harsh vocals, and dystopian atmosphere",
    "Children": "Children's music at 110 BPM with playful xylophone melodies, light acoustic guitar, triangle, hand percussion, and friendly cheerful vocals",
    "Instrumental": "Cinematic instrumental with orchestral swells, evolving motifs, dynamic buildups, emotional strings, and no vocals",
    "J-Pop / J-Rock": "J-pop rock at 145 BPM with bright synth melodies, tight pop-punk drums, anime-style hooks, layered vocals, and glossy production",
    "Jazz": "Bebop jazz at 180 BPM with walking upright bass, ride cymbal swing, piano comping, lyrical saxophone improvisation, and dynamic interplay",
    "Jovem Guarda": "Jovem Guarda at 130 BPM with vintage Fender guitar, simple rock 'n' roll drums, romantic Brazilian vocals, and 1960s nostalgia",
    "K-Pop": "K-pop at 128 BPM with glossy synth production, trap-influenced drums, layered vocal harmonies, rap verse breakdowns, and catchy chorus hooks",
    "Brazilian Popular Music": "MPB at 90 BPM with rich vocal harmonies, nylon guitar fingerpicking, subtle percussion, bossa influence, and poetic Brazilian lyrics",
    "Mambo": "Mambo cubano at 190 BPM with brass section stabs, piano guajeo patterns, timbales cascades, congas tumbaos, and energetic dancing bass",
    "Marches / Anthems": "Military march at 120 BPM with bold brass fanfares, snare drum rolls, strong melodic themes, tubas, and ceremonial grandeur",
    "Mariachi": "Mariachi at 110 BPM with trumpet harmonies, violin sections, guitarrón bass, vihuela rhythm, and passionate Mexican vocals",
    "Merengue": "Merengue dominicano at 140 BPM with fast tambora drum, güira scraper, accordion or brass melodies, tumbao bass, and lively dance energy",
    "Metal": "Metal at 150 BPM with chugging palm-muted guitars, double-kick drum blasts, aggressive vocals, heavy bass drops, and intense riffing",
    "Andean Music": "Música andina at 100 BPM with pan flute melodies, charango strumming, bombo drum pulse, quena flute harmonies, and mountain atmosphere",
    "Banda Music": "Banda sinaloense at 120 BPM with tuba bass foundation, brass section power, snare marches, clarinet leads, and festive dance rhythms",
    "Nativist Folk": "Música nativista gaúcha at 110 BPM with acoustic guitar duets, regional percussion, accordion touches, storytelling vocals, and rustic pampas tone",
    "New Age": "New age ambient at 70 BPM with soft synthesizer pads, flowing textures, gentle wind chimes, nature sounds, and calming meditative space",
    "New Wave": "New wave at 120 BPM with synth bass grooves, gated reverb drums, chorus-drenched guitars, retro vocals, and 1980s aesthetic",
    "Pagode": "Pagode carioca at 105 BPM with cavaquinho strumming, pandeiro groove, tantã bass drum, hand claps repique, and relaxed samba vocals",
    "Piseiro": "Piseiro at 150 BPM with simple synth hook melody, zabumba electronic groove, triangle rhythm, catchy vocal phrases, and sertão dance energy",
    "Pop": "Modern pop at 120 BPM with glossy vocal production, catchy melodic hooks, clean electronic drums, radio-ready mix, and polished commercial sound",
    "Pop Rock": "Pop rock at 130 BPM with bright jangly guitars, driving backbeat drums, anthemic singalong chorus, clean vocals, and stadium energy",
    "Post-Rock": "Post-rock at 100 BPM with evolving crescendos, delay-drenched guitars, cinematic drums, atmospheric synthesizer pads, and instrumental storytelling",
    "Power-Pop": "Power pop at 145 BPM with jangly Rickenbacker guitars, energetic pop drums, tight three-part harmonies, and upbeat infectious hooks",
    "Psychedelia": "Psychedelic rock at 110 BPM with swirling phaser guitars, tape echo delays, vintage Vox organs, reverb-soaked vocals, and trippy soundscapes",
    "Punk Rock": "Punk rock at 180 BPM with fast downstroke distorted guitars, aggressive shouted vocals, raw drum energy, and rebellious attitude",
    "R&B": "Modern R&B at 75 BPM with smooth silky vocals, lush jazz chord progressions, deep 808 bass drops, tight grooves, and sensual atmosphere",
    "Ranchera": "Ranchera mexicana at 90 BPM with mariachi violins, trumpet fanfares, guitarrón bass, and passionate emotive lead vocals",
    "Reggae": "Roots reggae at 75 BPM with offbeat skank guitar rhythm, deep dubby bass, one-drop drum pattern, organ bubbles, and warm conscious vocals",
    "Reggaeton": "Reggaeton at 95 BPM with dembow drum pattern, booming 808 sub bass, plucky synth melodies, perreo rhythm, and confident vocal delivery",
    "Regional": "Música regional at 110 BPM with acoustic folk instruments, local hand percussion, cultural melodies, and traditional storytelling vocals",
    "Rock": "Classic rock at 125 BPM with electric guitar power chords, bass guitar foundation, acoustic drum kit backbeat, and bold energetic vocals",
    "Alternative Rock": "Alternative rock at 120 BPM with textured guitar effects, dynamic loud-soft contrasts, angular rhythms, and emotive introspective vocals",
    "Progressive Rock": "Progressive rock at 140 BPM with odd time signatures 7/8, extended instrumental solos, Moog synthesizers, complex arrangements, and epic song structures",
    "Rock and Roll": "Classic rock and roll at 140 BPM with slapback echo vocals, walking bass lines, boogie-woogie piano, and energetic backbeat drums",
    "Rockabilly": "Rockabilly at 160 BPM with slap upright bass, twangy hollow-body guitar, snappy snare drums, and vintage Elvis-style vocals",
    "Romantic": "Romantic ballad at 70 BPM with warm grand piano, lush string orchestra, intimate breathy vocals, soft brushed drums, and emotional dynamics",
    "Salsa": "Salsa dura at 180 BPM with piano montuno vamping, congas tumbaos, bongos, timbales cascades, brass section montunos, and energetic clave-driven bass",
    "Samba": "Samba de raiz at 180 BPM with cavaquinho rhythm, surdo bass drum pulse, pandeiro groove, tamborim accents, and lively carnival vocals",
    "Samba Enredo": "Samba enredo at 160 BPM with full bateria percussion section, soaring group vocals, cuíca squeals, brass fanfares, and Carnaval parade energy",
    "Sertanejo": "Sertanejo raiz at 110 BPM with viola caipira fingerpicking, accordion harmonies, heartfelt duet vocals, and light percussion backbeat",
    "Ska": "Two-tone ska at 150 BPM with upbeat guitar skank offbeats, walking bass grooves, punchy brass section riffs, and energetic danceable drums",
    "Soft Rock": "Soft rock at 100 BPM with smooth lead vocals, mellow electric guitars, steady drum groove, warm bass, and radio-friendly polished mix",
    "Soul": "Classic soul at 95 BPM with passionate gospel-influenced vocals, Hammond B3 organ swells, Memphis horn section, grooving Motown bass, and tight rhythm section",
    "Surf Music": "Surf rock at 135 BPM with reverb-drenched Fender guitar twang, rolling tom drums, surf bass walks, and California beach energy",
    "Tango": "Tango argentino at 120 BPM with bandoneón accordion drama, violin solos, staccato piano, marcato contrabass, and passionate dramatic phrasing",
    "Technopop": "Technopop at 128 BPM with synth arpeggiator sequences, crisp electronic drum machines, catchy vocoder hooks, and futuristic production",
    "Trova": "Trova cubana at 80 BPM with poetic lyrical vocals, nylon classical guitar fingerpicking, subtle hand percussion, and intimate storytelling atmosphere",
    "Turreo RKT": "Turreo RKT cumbia 420 at 130 BPM with heavy club bass kicks, stuttered chopped vocals, aggressive cumbia rhythm, and streetwise synth stabs",
    "Vallenato": "Vallenato colombiano at 110 BPM with accordion melodic leads, caja drum patterns, guacharaca scraper, and emotive romantic vocals",
    "Old Guard Samba": "Samba de raiz at 170 BPM with acoustic ensemble, cavaquinho rhythm, pandeiro groove, brass section harmonies, and vintage samba swing",
    "World Music": "World music fusion at 105 BPM with global hand percussion, ethnic instruments diversity, tablas, djembe, rich vocal harmonies, and cultural melodies",
    "Xote": "Xote nordestino at 110 BPM with accordion forró melody, zabumba drum pulse, triangle metallic rhythm, and gentle swaying dance tempo",
    "Zamba": "Zamba argentina at 90 BPM with bombo legüero drum heartbeat, acoustic guitar duet, tender vocal harmonies, and folkloric pampas atmosphere",
    "Phonk": "Phonk at 150 BPM with Memphis rap vocals, distorted 808 cowbell, gritty vinyl samples, chopped-and-screwed feel, and dark trap drums",
    "Lo-Fi Hip Hop": "Lo-fi hip hop at 85 BPM with dusty vinyl crackle, swung drums, mellow Rhodes chords, warm sidechained bass, and relaxed study vibe",
    "UK Drill": "UK drill at 142 BPM with sliding 808 bass, skittering hi-hats, off-beat snares, eerie minor-key pads, and aggressive rap delivery",
    "Philly Soul": "Philadelphia soul at 96 BPM with lush string sections, smooth horn lines, silky bass grooves, velvet vocals, and polished 70s production",
    "City Pop": "City pop at 108 BPM with glossy Rhodes, chorus guitars, slap bass, breezy female vocals, and late-70s/80s Tokyo AOR sheen",
    "Amapiano": "Amapiano at 112 BPM with log drum bass drops, shaker-heavy grooves, airy pads, soulful vocals, and spacious piano riffs",
    "Afro House": "Afro house at 120 BPM with tribal percussion, deep rolling kick, hypnotic chants, atmospheric pads, and African-inspired melodies",
    "Melodic Techno": "Melodic techno at 124 BPM with emotional minor-key arps, tight low-end, reverb-drenched leads, and slow-burning dancefloor build",
    "Hardstyle": "Hardstyle at 150 BPM with reverse bass, punchy kicks, detuned supersaw leads, euphoric anthem melodies, and festival energy",
    "Gabber": "Gabber at 175 BPM with distorted 909 kicks, abrasive saw leads, shouted hype vocals, and relentless hardcore drive",
    "Psytrance": "Psytrance at 142 BPM with rolling basslines, squelchy FM leads, psychedelic FX, Goa-influenced arps, and long hypnotic builds",
    "Goa Trance": "Goa trance at 145 BPM with acid 303 lines, layered arpeggios, tribal percussion, cosmic pads, and spiritual rave atmosphere",
    "Eurobeat": "Eurobeat at 155 BPM with bright supersaw leads, Italo-style basslines, energetic claps, key change choruses, and high-octane vocals",
    "Big Room": "Big room house at 128 BPM with massive festival kicks, simple detuned lead hooks, snare roll builds, sub-heavy drops, and hands-up chants",
    "Bounce": "Melbourne bounce at 128 BPM with bouncy offbeat bass, donk-style leads, percussive plucks, and party-ready drops",
    "Kizomba": "Kizomba at 92 BPM with sensual bass groove, soft percussion, intimate Portuguese/Creole vocals, and smooth guitar/keys",
    "Zouk": "Zouk at 90 BPM with gentle Caribbean percussion, flowing basslines, romantic Creole/French vocals, and silky dance groove",
    "Choro": "Choro brasileiro at 120 BPM with bandolim leads, 7-string guitar bass lines, cavaquinho comping, and syncopated pandeiro",
    "Sertanejo Universitário": "Sertanejo universitário at 128 BPM with modern acoustic guitars, light accordion hooks, pop-influenced drums, and duet vocals",
    "Forró Eletrônico": "Forró eletrônico at 128 BPM with accordion lead hooks, electronic zabumba kick, triangle top-end, and catchy pop vocals",
    "Pagotrap": "Pagotrap at 105 BPM blending pagode cavaquinho/pandeiro grooves with trap 808s, hi-hat rolls, and melodic rap vocals",
    "Brega Funk (Recife)": "Brega funk recifense at 130 BPM with tamborzão kick, pitched vocal chops, metallic percussion, bright lead synths, and baile energy",
    "Phonk House": "Phonk house at 126 BPM with four-on-the-floor kick, cowbell 808s, chopped Memphis vox, vinyl hiss, and gritty club groove",
    "Drill Funk": "Drill funk at 142 BPM mixing baile funk tamborzão with UK drill 808 slides, syncopated snares, and favela vocals",
    "Ragga Jungle": "Ragga jungle at 170 BPM with chopped Amen breaks, deep sub bass, ragga MC vocals, dub sirens, and sound system energy",
    "Future Rave": "Future rave at 128 BPM with offbeat saw bass, rolling supersaw leads, dark pads, snare builds, and peak-time festival drops",
    "Electroclash": "Electroclash at 124 BPM with distorted drum machines, lo-fi synth bass, deadpan vocals, and punk-meets-synthpop attitude",
    "Italo Disco": "Italo disco at 118 BPM with octave-running basslines, bright synth stabs, gated snares, vocoder hooks, and vintage drum machines",
    "Chillhop": "Chillhop at 88 BPM with jazzy Rhodes chords, swung dusty drums, upright bass, vinyl crackle, and laid-back instrumental vibe",
    "Downtempo": "Downtempo at 90 BPM with relaxed breakbeats, lush pads, chilled guitar/keys, subby bass, and lounge atmospherics",
    "Trip Hop": "Trip hop at 82 BPM with moody breakbeats, deep sub bass, noir samples, sultry vocals, and cinematic Bristol vibe",
    "Electro": "Electro at 126 BPM with 808 drum machine hits, robotic vocoder lines, syncopated synth bass, and retro-futurist feel",
    "Afro Tech": "Afro tech at 122 BPM with tribal percussion, deep rolling kicks, techy synth stabs, and hypnotic Afro-inspired vocals",
    "Americana": "Americana at 92 BPM with acoustic guitars, slide dobro, brushed drums, warm upright bass, and rootsy storytelling vocals",
    "Bass House": "Bass house at 126 BPM with gritty bass stabs, chunky four-on-the-floor kicks, metallic leads, and club-focused drops",
    "Bassline": "Bassline at 132 BPM with warped bass wobs, sharp snares, chopped vocals, and UK garage-influenced bounce",
    "Bluegrass": "Bluegrass at 140 BPM with rapid banjo rolls, fiddle leads, mandolin chops, upright bass, and high-lonesome harmonies",
    "Brazilian Bass": "Brazilian bass at 124 BPM with deep pitched-down basslines, plucky leads, sparse vocals, and dark club vibe",
    "Breakbeat": "Breakbeat at 135 BPM with chopped breaks, punchy snares, sub bass stabs, rave stabs, and warehouse energy",
    "Celtic Folk": "Celtic folk at 98 BPM with tin whistle, fiddle reels, bodhrán percussion, acoustic guitar, and soaring folk melodies",
    "Chillwave": "Chillwave at 96 BPM with washed-out synth pads, sidechained drums, tape-warp textures, and nostalgic summer vibe",
    "Coldwave": "Coldwave at 115 BPM with icy synths, drum machines, baritone vocals, and post-punk minimalism",
    "Coupe Decale": "Coupé-Décalé at 120 BPM with ivorian percussion, rolling basslines, whistle FX, call-and-response vocals, and dancefloor energy",
    "Dream Pop": "Dream pop at 96 BPM with reverb-soaked guitars, airy vocals, soft drums, lush pads, and hazy atmospheres",
    "Electro House": "Electro house at 128 BPM with distorted saw leads, punchy sidechained bass, big claps, and festival-ready drops",
    "French House": "French house at 124 BPM with filtered disco loops, pumping sidechain, syncopated basslines, and chopped vocal hooks",
    "Future Funk": "Future funk at 118 BPM with disco samples, slap bass, bright synth chops, sidechained drums, and upbeat party vibe",
    "G-House": "G-house at 124 BPM with gangster rap vocals, thick basslines, swung house drums, and dark club groove",
    "Gqom": "Gqom at 120 BPM with heavy tom-like kicks, sparse syncopated percussion, dark minimal synths, and South African township energy",
    "Hands Up": "Hands up at 146 BPM with eurodance kicks, supersaw leads, claps on 2/4, cheesy vocals, and big snare roll builds",
    "Highlife": "Highlife at 110 BPM with bright guitars, polyrhythmic percussion, upbeat horns, call-and-response vocals, and joyous groove",
    "Indie Folk": "Indie folk at 100 BPM with intimate acoustic guitars, light percussion, warm vocal harmonies, and organic room ambience",
    "Irish Folk": "Irish folk at 100 BPM with fiddle reels, tin whistle, bodhrán, bouzouki/guitar backing, and pub session feel",
    "Jersey Club": "Jersey club at 134 BPM with bed squeak samples, chopped vocals, bouncy kick patterns, and energetic breaks",
    "Juke / Footwork": "Juke/footwork at 160 BPM with rapid 808 snares, chopped vocal stutters, minimal subs, and battle-dance energy",
    "Kuduro": "Kuduro at 128 BPM with rapid percussion, aggressive synths, shouted vocals, and Angolan dance energy",
    "Lofi House": "Lo-fi house at 122 BPM with dusty drums, detuned pads, woozy chords, and tape-saturated deep bass",
    "Math Rock": "Math rock at 140 BPM with intricate guitar tapping, odd time signatures, clean tones, and energetic drum interplay",
    "Midwest Emo": "Midwest emo at 130 BPM with twinkly clean guitars, melodic bass, earnest vocals, and dynamic drum builds",
    "Minimal / Deep Tech": "Minimal/deep tech at 123 BPM with stripped-back drums, rolling sub bass, microhouse textures, and hypnotic grooves",
    "Organic House": "Organic house at 118 BPM with hand percussion, warm acoustic textures, deep kicks, ethnic flutes, and slow-burning builds",
    "Post-Hardcore": "Post-hardcore at 165 BPM with screamed/clean vocal mix, dynamic quiet-loud sections, angular guitars, and punchy drums",
    "Post-Punk": "Post-punk at 145 BPM with driving basslines, sharp guitars, mechanical drums, and urgent baritone vocals",
    "Punk Rap / Emo Rap": "Punk rap / emo rap at 140 BPM with distorted 808s, guitar/sample loops, autotuned emotional vocals, and trap hi-hats",
    "Shoegaze": "Shoegaze at 90 BPM with wall-of-sound fuzz guitars, washed-out vocals, slow drums, and dreamy reverb-drenched textures",
    "Soulful House": "Soulful house at 124 BPM with gospel-influenced vocals, Rhodes chords, live bass feel, and uplifting four-on-the-floor groove",
    "Tech Trance": "Tech trance at 136 BPM with driving kicks, rolling basslines, gated stabs, acid riffs, and long atmospheric builds",
    "Uplifting Trance": "Uplifting trance at 138 BPM with big supersaw leads, emotional breakdowns, sidechained bass, and euphoric drops",
    "Vocal Trance": "Vocal trance at 136 BPM with soaring female vocals, lush pads, plucky arps, rolling bass, and hands-in-the-air choruses",
    "Zouk Bass": "Zouk bass at 90 BPM with heavy sub-bass, half-time feel, Caribbean grooves, and minimal moombahton-influenced percussion",
    "Drumstep": "Drumstep at 170 BPM with half-time dubstep-style drums over DnB tempo, heavy subs, and sharp snares"
}

STYLE_PROMPTS = dict(sorted(_BASE_STYLE_PROMPTS.items(), key=lambda kv: kv[0].lower()))


class AceStepPromptGen:
    """Generate style-aware prompts for ACE-Step.

    Behavior:
      - Select a style (template shown in output "template").
      - Type extra text; it will be CONCATENATED after the style template.
        If empty, only the template is used.
    """

    @classmethod
    def INPUT_TYPES(cls):
        styles = list(STYLE_PROMPTS.keys())
        default_style = "Electronic"
        return {
            "required": {
                "style": (styles, {"default": default_style, "tooltip": "Select a musical style"}),
                "extra": (
                    "STRING",
                    {
                        "default": "",
                        "multiline": True,
                        "tooltip": "Optional extra text appended after the style template.",
                    },
                ),
            },
            "optional": {
                "voice_style": (
                    [
                        "none",
                        "natural_female",
                        "breathy_female",
                        "powerful_female",
                        "ethereal_female",
                        "soulful_female",
                        "deep_female",
                        "natural_male",
                        "breathy_male",
                        "powerful_male",
                        "deep_male",
                        "soulful_male",
                        "tenor_male",
                        "baritone_male",
                        "reference_singer",
                        "androgynous",
                        "vocal_blend",
                        "robotic_vocal"
                    ],
                    {
                        "default": "none",
                        "tooltip": "Optional voice style hints that are appended to the prompt to improve vocal realism. Female (6 options), Male (6 options), Blended (2 options), Robotic (1), None (auto)."
                    }
                ),
            },
        }

    RETURN_TYPES = ("STRING", "STRING")
    RETURN_NAMES = ("prompt", "template")
    FUNCTION = "generate"
    CATEGORY = "JK AceStep Nodes/Prompt"

    def generate(self, style: str, extra: str = "", voice_style: str = "none"):
        template = STYLE_PROMPTS.get(style, "")
        voice_hint = ""
        
        # FEMALE VOCALS (6 options)
        if voice_style == "natural_female":
            voice_hint = "natural female voice with micro pitch variation, soft breath, realistic vibrato and avoid robotic quantization"
        elif voice_style == "breathy_female":
            voice_hint = "breathy female voice, intimate mic proximity, audible breaths, warm vowel resonances, minimal autotune"
        elif voice_style == "powerful_female":
            voice_hint = "powerful female lead vocal, energetic performance, controlled vibrato, clear consonant articulation, live vocal tone"
        elif voice_style == "ethereal_female":
            voice_hint = "ethereal female voice, airy and light, floating above the beat, delicate phrasing, spacious reverb, dreamy quality"
        elif voice_style == "soulful_female":
            voice_hint = "soulful female voice, rich emotional depth, warm tone, blues influences, expressive phrasing, powerful presence"
        elif voice_style == "deep_female":
            voice_hint = "deep female mezzo-soprano voice, lower register, sultry tone, sophisticated delivery, jazz influences"
        
        # MALE VOCALS (6 options)
        elif voice_style == "natural_male":
            voice_hint = "natural male voice with micro pitch variation and natural prosody, warm tone, realistic breath"
        elif voice_style == "breathy_male":
            voice_hint = "breathy male voice, intimate vocal delivery, audible breath texture, vulnerable performance, close-mic warmth"
        elif voice_style == "powerful_male":
            voice_hint = "powerful male lead vocal, strong projection, controlled vibrato, clear articulation, commanding presence"
        elif voice_style == "deep_male":
            voice_hint = "deep male baritone-bass voice, rich resonance, lower register dominance, warm sonority, authoritative tone"
        elif voice_style == "soulful_male":
            voice_hint = "soulful male voice, emotional depth, R&B influences, smooth phrasing, expressive delivery, warm presence"
        elif voice_style == "tenor_male":
            voice_hint = "bright tenor male voice, soaring high notes, clear articulation, pop sensibility, energetic performance"
        
        # BLENDED VOCALS (2 options)
        elif voice_style == "reference_singer":
            voice_hint = "use a reference lead singer performance: natural, human vocal delivery, no robotic artifacts"
        elif voice_style == "androgynous":
            voice_hint = "androgynous voice quality, neutral gender presentation, balanced tone between male and female characteristics"
        elif voice_style == "vocal_blend":
            voice_hint = "layered vocal blend with multiple voices, rich harmonic texture, complementary vocal ranges, ensemble quality"
        # ROBOTIC VOCAL
        elif voice_style == "robotic_vocal":
            voice_hint = "robotic vocal style, vocoder or autotune effect, synthetic timbre, precise pitch, electronic articulation, minimal human expressiveness, classic EDM/Daft Punk/house vocal texture"
        
        parts = [template] if template else []
        if extra.strip():
            parts.append(extra.strip())
        if voice_hint:
            parts.append(voice_hint)
        final_prompt = ". ".join(parts)
        return (final_prompt, template)


NODE_CLASS_MAPPINGS = {
    "AceStepPromptGen": AceStepPromptGen,
}

NODE_DISPLAY_NAMES = {
    "AceStepPromptGen": "Ace-Step Prompt Gen",
}
